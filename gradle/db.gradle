// Migration tasks, properties are environment dependent.
task migrate {
  // supports only one profile.
  doLast {
    println "Executing $propertyDrivenProfile migrate task actions for ${project.getProperty('liquibase.change-log')} changelog file."
      liquibase {
        activities {
          main {
            changeLogFile    "$projectDir" + project.getProperty("liquibase.change-log")
              url            project.getProperty("spring.datasource.url")
              username       project.getProperty("spring.datasource.username")
              password       project.getProperty("spring.datasource.password")

              referenceUrl    'hibernate:spring:com.kabasakalis.springifyapi.domain?dialect=org.hibernate.dialect.PostgreSQLDialect'
              driver        'org.postgresql.Driver'
              // defaultSchemaName 'public'
              referenceDriver  'org.postgresql.Driver'
              // classpath     '/home/spiros/.gradle/caches/modules-2/files-2.1/org.postgresql/postgresql/9.4.1212/38931d70811d9bfcecf9c06f7222973c038a12de/postgresql-9.4.1212.jar'
              classpath     '/home/spiros/.gradle/caches/modules-2/files-2.1/org.postgresql/postgresql/42.1.4/1c7788d16b67d51f2f38ae99e474ece968bf715a/postgresql-42.1.4.jar'
          }
        }
      }
  }
}
