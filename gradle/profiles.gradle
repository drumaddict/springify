def prodProfile='prod'
def devProfile='dev'
def testsProfile='tests'
def propertyDrivenProfile;

if (project.hasProperty("${prodProfile}")) {
  // Used for production environment
  propertyDrivenProfile = prodProfile
    apply from: rootProject.file("./gradle/${prodProfile}.gradle");

} else if (project.hasProperty('tests')) {

  // Used for local development
  propertyDrivenProfile = testsProfile
    apply from: rootProject.file("./gradle/${testsProfile}.gradle");

} else if (project.hasProperty('dev')) {

  // Used for local development
  propertyDrivenProfile = devProfile
    apply from: rootProject.file("./gradle/${devProfile}.gradle");

} else {

  // Default when no profile property is specified, development
  propertyDrivenProfile = devProfile
    apply from: rootProject.file("./gradle/${devProfile}.gradle");

}
ext.set("propertyDrivenProfile", propertyDrivenProfile)
println 'Using profile: "' + propertyDrivenProfile + '" for ' + project.getName()



